# ä¿®å¤ Git è®¤è¯é—®é¢˜

## ğŸ”§ é—®é¢˜ï¼šè¾“é”™å¯†ç åæ— æ³•æ¨é€

å¦‚æœè¾“é”™äº† GitHub å¯†ç ï¼ŒGit å¯èƒ½ä¼šç¼“å­˜é”™è¯¯çš„å‡­æ®ã€‚ä»¥ä¸‹æ˜¯è§£å†³æ–¹æ³•ï¼š

## æ–¹æ³•ä¸€ï¼šæ¸…é™¤å‡­æ®ç¼“å­˜ï¼ˆæ¨èï¼‰

### macOS

```bash
cd /Users/henryzhang/TrendRadar/newscatcher

# æ¸…é™¤ Git å‡­æ®ç¼“å­˜
git credential-osxkeychain erase
host=github.com
protocol=https
# æŒ‰ä¸¤æ¬¡å›è½¦

# æˆ–è€…ä½¿ç”¨å‘½ä»¤æ¸…é™¤
git credential reject <<EOF
host=github.com
protocol=https
EOF
```

### é€šç”¨æ–¹æ³•

```bash
# æ¸…é™¤ Git å‡­æ®åŠ©æ‰‹
git config --global --unset credential.helper

# æˆ–è€…æ¸…é™¤ç‰¹å®šä»“åº“çš„å‡­æ®
cd /Users/henryzhang/TrendRadar/newscatcher
git config --local --unset credential.helper
```

## æ–¹æ³•äºŒï¼šä½¿ç”¨ Personal Access Tokenï¼ˆæœ€æ¨èï¼‰

GitHub å·²ä¸å†æ”¯æŒå¯†ç è®¤è¯ï¼Œå¿…é¡»ä½¿ç”¨ Personal Access Tokenã€‚

### 1. åˆ›å»º Personal Access Token

1. è®¿é—®ï¼šhttps://github.com/settings/tokens
2. ç‚¹å‡» "Generate new token" â†’ "Generate new token (classic)"
3. å¡«å†™ä¿¡æ¯ï¼š
   - **Note**: `NewsCatcher Upload`
   - **Expiration**: é€‰æ‹©è¿‡æœŸæ—¶é—´ï¼ˆå»ºè®® 90 å¤©æˆ– No expirationï¼‰
   - **Select scopes**: å‹¾é€‰ `repo`ï¼ˆå®Œæ•´ä»“åº“æƒé™ï¼‰
4. ç‚¹å‡» "Generate token"
5. **ç«‹å³å¤åˆ¶ Token**ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼ï¼‰

### 2. ä½¿ç”¨ Token æ¨é€

```bash
cd /Users/henryzhang/TrendRadar/newscatcher

# æ–¹æ³• Aï¼šåœ¨ URL ä¸­åŒ…å« Tokenï¼ˆä¸€æ¬¡æ€§ï¼‰
git remote set-url origin https://ä½ çš„Token@github.com/ä½ çš„ç”¨æˆ·å/newscatcher.git
git push -u origin main

# æ–¹æ³• Bï¼šæ¨é€æ—¶è¾“å…¥ï¼ˆæ¨èï¼‰
# ç”¨æˆ·åï¼šä½ çš„GitHubç”¨æˆ·å
# å¯†ç ï¼šç²˜è´´ä½ çš„Tokenï¼ˆä¸æ˜¯å¯†ç ï¼ï¼‰
git push -u origin main
```

### 3. é…ç½®å‡­æ®åŠ©æ‰‹ï¼ˆå¯é€‰ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨ï¼‰

```bash
# macOS
git config --global credential.helper osxkeychain

# Linux
git config --global credential.helper store

# Windows
git config --global credential.helper wincred
```

é…ç½®åï¼Œä¸‹æ¬¡æ¨é€æ—¶è¾“å…¥ä¸€æ¬¡ Tokenï¼Œç³»ç»Ÿä¼šè®°ä½ã€‚

## æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ SSHï¼ˆæœ€å®‰å…¨ï¼‰

### 1. æ£€æŸ¥æ˜¯å¦å·²æœ‰ SSH key

```bash
ls -al ~/.ssh
```

### 2. å¦‚æœæ²¡æœ‰ï¼Œç”Ÿæˆ SSH key

```bash
ssh-keygen -t ed25519 -C "your_email@example.com"
# æŒ‰å›è½¦ä½¿ç”¨é»˜è®¤è·¯å¾„
# å¯ä»¥è®¾ç½®å¯†ç æˆ–ç›´æ¥å›è½¦ï¼ˆä¸è®¾ç½®å¯†ç ï¼‰
```

### 3. æ·»åŠ  SSH key åˆ° GitHub

```bash
# å¤åˆ¶å…¬é’¥
cat ~/.ssh/id_ed25519.pub
# å¤åˆ¶è¾“å‡ºçš„å†…å®¹
```

ç„¶åï¼š
1. è®¿é—®ï¼šhttps://github.com/settings/keys
2. ç‚¹å‡» "New SSH key"
3. Title: `NewsCatcher Mac`
4. Key: ç²˜è´´åˆšæ‰å¤åˆ¶çš„å…¬é’¥
5. ç‚¹å‡» "Add SSH key"

### 4. ä½¿ç”¨ SSH è¿æ¥

```bash
cd /Users/henryzhang/TrendRadar/newscatcher

# ä¿®æ”¹è¿œç¨‹åœ°å€ä¸º SSH
git remote set-url origin git@github.com:ä½ çš„ç”¨æˆ·å/newscatcher.git

# æµ‹è¯•è¿æ¥
ssh -T git@github.com
# åº”è¯¥çœ‹åˆ°ï¼šHi ä½ çš„ç”¨æˆ·å! You've successfully authenticated...

# æ¨é€
git push -u origin main
```

## æ–¹æ³•å››ï¼šä½¿ç”¨ GitHub CLIï¼ˆæœ€ç®€å•ï¼‰

```bash
# å®‰è£… GitHub CLIï¼ˆå¦‚æœè¿˜æ²¡å®‰è£…ï¼‰
brew install gh

# ç™»å½•
gh auth login

# é€‰æ‹© GitHub.com
# é€‰æ‹© HTTPS
# é€‰æ‹© Login with a web browser
# æŒ‰æç¤ºå®Œæˆç™»å½•

# æ¨é€ï¼ˆä¼šè‡ªåŠ¨ä½¿ç”¨å·²ç™»å½•çš„å‡­æ®ï¼‰
cd /Users/henryzhang/TrendRadar/newscatcher
git push -u origin main
```

## ğŸ” æ£€æŸ¥å½“å‰é…ç½®

```bash
cd /Users/henryzhang/TrendRadar/newscatcher

# æŸ¥çœ‹è¿œç¨‹åœ°å€
git remote -v

# æŸ¥çœ‹å‡­æ®é…ç½®
git config --list | grep credential

# æµ‹è¯•è¿æ¥
git ls-remote origin
```

## âš¡ å¿«é€Ÿä¿®å¤è„šæœ¬

æˆ‘ä¸ºä½ åˆ›å»ºäº†ä¸€ä¸ªå¿«é€Ÿä¿®å¤è„šæœ¬ï¼Œè¿è¡Œï¼š

```bash
cd /Users/henryzhang/TrendRadar/newscatcher
./ä¿®å¤è®¤è¯.sh
```

## ğŸ’¡ æ¨èæ–¹æ¡ˆ

**æœ€æ¨è**ï¼šä½¿ç”¨ Personal Access Token + å‡­æ®åŠ©æ‰‹
- å®‰å…¨å¯é 
- ä¸€æ¬¡é…ç½®ï¼Œé•¿æœŸä½¿ç”¨
- é€‚åˆå¤§å¤šæ•°ç”¨æˆ·

**æœ€å®‰å…¨**ï¼šä½¿ç”¨ SSH
- æ— éœ€è¾“å…¥å¯†ç 
- æœ€å®‰å…¨çš„æ–¹å¼
- é€‚åˆæŠ€æœ¯ç”¨æˆ·

