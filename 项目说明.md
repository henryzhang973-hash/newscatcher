# NewsCatcher 项目说明

## 📦 项目结构

```
newscatcher/
├── main.py                          # 主程序（精简版，约 400 行）
├── config.yaml                      # 配置文件（平台列表）
├── requirements.txt                 # Python 依赖（仅必需库）
├── README.md                        # 使用说明
├── SETUP.md                         # 部署指南
├── .gitignore                       # Git 忽略文件
└── .github/
    └── workflows/
        └── news-summarizer.yml      # GitHub Actions 配置（每8小时运行）
```

## ✨ 代码优化

### 已删除的功能
- ❌ 文件保存功能（GitHub Actions 不需要）
- ❌ 控制台详细输出（仅保留必要日志）
- ❌ 配置文件读取 AI 配置（仅使用环境变量）
- ❌ Anthropic 支持（仅保留 OpenAI 兼容）
- ❌ 代理支持（GitHub Actions 不需要）
- ❌ 定时脚本（使用 GitHub Actions 替代）

### 保留的核心功能
- ✅ 数据抓取（11个平台）
- ✅ AI 总结生成
- ✅ 飞书推送（支持分批）
- ✅ 错误处理和重试

## 🚀 GitHub Actions 配置

### Workflow 特点
- **定时运行**：每8小时一次（0:00, 8:00, 16:00 UTC）
- **手动触发**：支持 workflow_dispatch
- **超时设置**：15分钟
- **并发控制**：同一时间只运行一个实例

### 环境变量配置
所有配置通过 GitHub Secrets 设置：
- `AI_API_KEY` - 必填
- `AI_BASE_URL` - DeepSeek 必填
- `AI_MODEL` - 可选（默认 deepseek-chat）
- `FEISHU_WEBHOOK_URL` - 必填
- `TOP_N` - 可选（默认 10）

## 📝 使用步骤

1. **Fork 项目**到你的 GitHub
2. **配置 Secrets**（AI API Key 和飞书 Webhook）
3. **测试运行**（手动触发一次）
4. **自动运行**（每8小时自动执行）

详细步骤见 `SETUP.md`

## 🔧 代码特点

- **精简**：删除所有不必要的代码
- **专注**：仅实现核心功能
- **易用**：配置简单，开箱即用
- **可靠**：错误处理和重试机制完善

## 📊 文件大小

- `main.py`: ~12KB (约 400 行)
- `config.yaml`: ~1KB
- `requirements.txt`: ~100B
- 总计：< 15KB

## 🎯 适用场景

- ✅ GitHub Actions 自动化运行
- ✅ 定时推送热点总结到飞书
- ✅ 无需服务器，零成本运行
- ✅ 适合个人或小团队使用

